<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Hoja de estilo de la interfaz -->
    <link rel="stylesheet" href="./styles/style.css">
    <link rel="stylesheet" href="./styles/style_nav.css">
    <link rel="stylesheet" href="./styles/style_read.css">
    <link rel="stylesheet" href="./styles/style_canvas.css">

    <!-- Cargar el proceso asociado a esta página -->
    <script src="index_readfile.js" defer></script>
    <script src="./functions/Treatment of Quiz Questions/SelectOptionReadFile.js" defer></script>
    <script src="scripts/SetAdminMode.js" defer></script>
    <script src="scripts/NavigationOption.js" defer></script>
    <script src="functions/Canvas/Canvas.js" defer></script>

    <title>Soundscape Questionnaire</title>
</head>
<body>
  <nav class="nav container" style="height: 50px;">
    <span class="nav__logo">
        <img style="height: 30px;" src="images/logo_urjc.png" alt="">
    </span>
    <ul class="nav__list" id="nav_center">
    
      <li class="nav__item">
        <a href="index.html" class="nav__link"><b>Inicio</b></a>
      </li>
      <li class="nav__item">
        <a href="read_file.html" class="nav__link"><b> Crear Cuestionario</b></a>
      </li>
      <li class="nav__item">
        <a href="quiz.html" class="nav__link"><b>Rellenar Cuestionario</b></a>
      </li>
      <li class="nav__item">
        <a href="#" class="nav__link" ></a>
      </li>
    </ul>
    <ul class="nav__list">
    
      <li class="nav__item">
        <a href="#" class="nav__link" onclick="ContactPopupScreen()">Contacto</a>
      </li>
      <li class="nav__item">
        <a href="#" class="nav__link" onclick="SettingsPopupScreen()">Ajustes</a>
      </li>
      <li class="nav__item">
        <a href="#" class="nav__link" onclick="HelpPopupScreen()">Ayuda</a>
      </li>
      <li class="nav__item">
        <a href="#" class="nav__link" ></a>
      </li>
    </ul>
  </nav>
  <a href=""></a>
  <div style="text-align: center;">
    <h1>Mostrar Resultados de los Cuestionarios</h1>
    <p>En esta página se puede observar los datos de forma generalizada, observando los porcentajes y los datos de cada pregunta en función del lugar.</p>
    <p>Para cargar los resultados de los quizs realizados pulsa en "Cargar Resultados".</p>
  </div>

  <div class="wrapper">
      <button id="load_results" onclick="load_results()"><h4>Cargar Resultados</h4></button>
      <button id="load_results" onclick="OpenFileQuiz()"><h4>Cargar Fichero con Resultados</h4></button>
  </div>
  <div class="wrapper" id="getInputQuizFile">
    <input type="file" id="myfilesInputFile" class="input_file" >
    <button id="load_results" onclick="LoadFileQuiz()"><h4>Cargar Fichero con Resultados</h4></button>
  </div> 
  <div class="wrapper" id="results_button">
    <h3>Selecciona la opción que posee respuestas: </h3>
    <div id="results"></div>
  </div>
  <div class="wrapper" id="optionsResultsButton">
    <h3>Selecciona la opción que quiere ver de los cuestionarios: </h3>
    <div id="results">
      <button id="button_select_quiz" onclick="SelectOption2Show('hearWhoResults')"><b>WHO Score<b></button>
      <button id="button_select_quiz" onclick="SelectOption2Show('tablePlacesResults')"><b>Preguntas sobre el Escenario<b></button>
      <button id="button_select_quiz" onclick="SelectOption2Show('lastQuestion')"><b>Preguntas sobre el Encuestado<b></button>
      <button id="button_select_quiz" onclick="SelectOption2Show('canvasResult')"><b>Gráfico sobre el Entorno<b></button>
    </div>
  </div> 
  <div class="wrapper" id="user_results">
    <h3>Resúmenes de los Resultados del Cuestionario: <b id="option_name_quiz"></b></h3>

    <table class="wrapper_table" id="info_table">
      <tr valign="top" class="top_cell">
        <th scope="row" id="number_quiz">Número</th>
        <th id="date_quiz">Fecha de realización</th>
        <th id="score_quiz">Nota en el test HearWHO</th>
      </tr>
    </table>
  </div>
  <div class="wrapper" id="hearWhoResults" style="display: block;"></div>
  <div class="wrapper" id="tablePlacesResults" style="display: block;"></div>
  <div class="wrapper" id="lastQuestion" style="display: block;"></div>
  <div class="wrapper" id="canvasResult" style="display: none;">
    <h2>Gráficas sobre el Entorno</h2>
    <div id="chronologyGraph">
      <section class="cols-1">
        <figure id="figure">
            <h2>
              Cronología de la Recogida de los Resultados
            </h2>
            <canvas id="chronologyChart"></canvas>
            <h4 id="chronologyText">• En esta cronología se muestra el volumen de encuestas por día siendo el eje abscisas las fechas donde se realizaron cuestionarios y el eje de coordenadas el volumen de cuestionarios realizados ese día.</h4>           
        </figure>
      </section>
    </div>
    <br>
    <div id="participantGraph">
      <section class="cols-1">
        <figure id="figure">
          <h2>Resultados de las Preguntas Generales
            <select id="generalOptions">
              <option value="2">Formación en Acústica</option>
              <option value="1">Conocimiento del Lugar</option>
              <option value="0">Notas HearWHO</option>              
            </select>
          </h2>
          <h3 id="statementQuestion">¿Tienes algún tipo de conocimiento o formación en Acústica?</h3>
          <span id="participantCanvas">
            <canvas id="participantChart"></canvas>
          </span>          
          <h4 id="participantSummery"></h4>
        </figure>
      </section>
    </div>
    <br>
    <div id="scenaryGraph1" style="background-color: #191919;">
      <h2 style="height: 10vh; display: flex;justify-content: center;align-items: center;margin: 0;">Escenario 1: <b id="scenaryName1">Escenario 1</b></h2>
      <section class="cols-2">        
        <figure class="figureScenary" id="figure">
            <h2>Comparativa entre grabaciones
              <select id="recordingOptions">
                <option value="1-0">Grabación 1</option>
                <option value="1-1">Grabación 2</option>
                <option value="1-2">Grabación 3</option>              
              </select>
            </h2>
            
            <span id="graphLeft1">
              <canvas id="renderRadarChart1"></canvas>
            </span>
            <h4>Opciones a mostrar:</h4>
            <span id="optionsScenary1">
              <button id="changeChart2Radio" value="1-0">Descriptor Radio</button>
              <button id="changeChart2Scatter" value="1-0">Descriptor Puntos</button>              
            </span>
        </figure>

        <figure class="figureScenary" id="figure">
          <h2>Información del Escenario:
            <select id="featuresOptions">
                <option value="yearPeriod-1-0">Periodo del Año</option>
                <option value="urbanContext-1-0">Contexto Urbano</option>
                <option value="acousticQuality-1-0">Calidad Acústica</option>
                <option value="soundscapeTime-1-0">Tiempo en el Ambiente Sonoro</option>               
            </select>
        </h2>
            <span id="graphRight1">
              <canvas id="renderPieChart1"></canvas>
            </span>
            <span id="summaryFeatureOption1">

            </span>
            
        </figure>

      </section>
    </div>
    <br>
    <div id="scenaryGraph2" style="background-color: #191919;display: none;">
      <h2 style="height: 10vh; display: flex;justify-content: center;align-items: center;margin: 0;">Escenario 2: <b id="scenaryName2">Escenario 2</b></h2>
      <section class="cols-2">        
        <figure class="figureScenary" id="figure">
            <h2>Comparativa entre grabaciones:
              <select id="recordingOptions">
                <option value="2-0">Grabación 1</option>
                <option value="2-1">Grabación 2</option>
                <option value="2-2">Grabación 3</option>              
              </select>
            </h2>
            <span id="graphLeft2">
              <canvas id="renderRadarChart2"></canvas>
            </span>
            <h4>Opciones a mostrar:</h4>
            <span id="optionsScenary2">
              <button id="changeChart2Radio" value="2-0">Descriptor Radio</button>
              <button id="changeChart2Scatter" value="2-0">Descriptor Puntos</button>               
            </span>
        </figure>

        <figure class="figureScenary" id="figure">
            <h2>Información del Escenario:
                <select id="featuresOptions">
                    <option value="yearPeriod-2-0">Periodo del Año</option>
                    <option value="urbanContext-2-0">Contexto Urbano</option>
                    <option value="acousticQuality-2-0">Calidad Acústica</option>
                    <option value="soundscapeTime-2-0">Tiempo en el Ambiente Sonoro</option>               
                </select>
            </h2>
            <span id="graphRight2">
              <canvas id="renderPieChart2"></canvas>
            </span>
            <span id="summaryFeatureOption2">

            </span>
        </figure>
    </section>
    </div>
    <br>
    <div id="scenaryGraph3" style="background-color: #191919;display: none;">
      <h2 style="height: 10vh; display: flex;justify-content: center;align-items: center;margin: 0;">Escenario 3: <b id="scenaryName3">Escenario 3</b></h2>
      <section class="cols-2">        
        <figure class="figureScenary" id="figure">
            <h2>Comparativa entre grabaciones:
              <select id="recordingOptions">
                <option value="3-0">Grabación 1</option>
                <option value="3-1">Grabación 2</option>
                <option value="3-2">Grabación 3</option>              
              </select>
            </h2>
            <span id="graphLeft3">
              <canvas id="renderRadarChart3"></canvas>
            </span>
            <h4>Opciones a mostrar:</h4>
            <span id="optionsScenary3">
              <button id="changeChart2Radio" value="3-0">Descriptor Radio</button>
              <button id="changeChart2Scatter" value="3-0">Descriptor Puntos</button>             
            </span>
        </figure>

        <figure class="figureScenary" id="figure">
          <h2>Información del Escenario:
            <select id="featuresOptions">
                <option value="yearPeriod-3-0">Periodo del Año</option>
                <option value="urbanContext-3-0">Contexto Urbano</option>
                <option value="acousticQuality-3-0">Calidad Acústica</option>
                <option value="soundscapeTime-3-0">Tiempo en el Ambiente Sonoro</option>               
            </select>
        </h2>
        <span id="graphRight3">
          <canvas id="renderPieChart3"></canvas>
        </span>
        <span id="summaryFeatureOption3">

        </span>
        </figure>
    </section>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <script src="js/helpers.js"></script>
  </div>

</body>
</html>